cordova.define("cordova/plugin/sound",function(e,t,n){var o;o=window.PalmSystem?e("cordova/plugin/webos/service"):{Request:function(e,t){"function"==typeof t.onFailure&&t.onFailure({returnValue:!1,errorText:"PalmSystem Not Available. Cordova is not installed?"})}};var u=function(){};function r(e,t,n){void 0!==e.errorCode&&null!==e.errorCode||(e.errorCode=t),void 0!==e.errorText&&null!==e.errorText||(e.errorText=n)}var s=null,a={};function i(e){null===s?o.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["sdkVersion","boardType"]},onSuccess:function(t){t.sdkVersion;var n=t.sdkVersion.split(".");a=n.length>=1&&"1"===n[0]?{webOSVer:1,chipset:t.boardType.split("_")[0]}:n.length>=1&&"2"===n[0]?{webOSVer:2,chipset:t.boardType.split("_")[0]}:n.length>=1&&"3"===n[0]?{webOSVer:3,chipset:t.boardType.split("_")[0]}:n.length>=1&&"4"===n[0]?{webOSVer:4,chipset:t.boardType.split("_")[0]}:{webOSVer:0,chipset:""},s=a.webOSVer,e(a)},onFailure:function(t){e(a={webOSVer:0,chipset:""})}}):e(a)}u.SoundMode={Standard:"standard",Cinema:"movie",ClearVoice:"news",Sports:"sports",Music:"music",Game:"game"},u.SpeakerType={SignageSpeaker:"tv_speaker",LGSoundSync:"bt_soundbar"},u.prototype.getSoundStatus=function(e,t){i(function(n){4===n.webOSVer||n.webOSVer>4?o.Request("luna://com.webos.service.commercial.scapadapter/sound",{method:"getSoundStatus",onSuccess:function(t){!0===t.returnValue&&(delete t.returnValue,e(t))},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SGSS","Sound.getSoundStatus returns failure."),t(e))}}):o.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"version",onSuccess:function(n){if(!0===n.returnValue){var u=n.version,s="";s="1"===u[0]&&"5"===u[2]?"com.webos.surfacemanager.supportCommerSoundSetting":"tv.model.supportCommerSoundSetting",o.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:[s]},onSuccess:function(n){if(!0===n.returnValue){var u=n.configs[s];o.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["extSpkVolumeControl"]},onSuccess:function(n){if(!0===n.returnValue){var s=n.settings.extSpkVolumeControl;!0===u||!1===u&&"1"===s?o.Request("luna://com.webos.audio/",{method:"getVolume",onSuccess:function(t){if(!0===t.returnValue){var n={};n.level=t.volume,n.muted=t.muted,o.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["enableSpeaker"]},onSuccess:function(t){!0===t.returnValue&&(n.externalSpeaker="on"===t.settings.enableSpeaker,"function"==typeof e&&e(n))},onFailure:function(t){"function"==typeof e&&e(n)}})}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SGSS","Sound.getSoundStatus returns failure."),t(e))}}):(delete n.returnValue,"function"==typeof t&&(r(n,"SGSS","unsupported feature"),t(n)))}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SGSS","Sound.getSoundStatus returns failure"),t(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SGSS","Sound.getSoundStatus returns failure."),t(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SGSS","Sound.getSoundStatus returns failure."),t(e))}})})},u.prototype.setVolumeLevel=function(e,t,n){if(JSON.stringify(n),"number"!=typeof n.level||isNaN(n.level)||n.level<0||n.level>100){if("function"==typeof t){var u={};r(u,"SSVL","Sound.setVolumeLevel returns failure. out of range or invalid parameter type."),t(u)}}else i(function(u){4===u.webOSVer||u.webOSVer>4?o.Request("luna://com.webos.service.commercial.scapadapter/sound",{method:"setVolumeLevel",parameters:{level:n.level,volOsdEnabled:n.volOsdEnabled},onSuccess:function(t){delete t.returnValue,"function"==typeof e&&e(t)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSVL","Sound.setVolumeLevel returns failure."),t(e))}}):o.Request("luna://com.webos.service.commercial.signage.storageservice/sound/",{method:"setVolumeLevel",parameters:n,onSuccess:function(t){e()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSVL","Sound.setVolumeLevel returns failure."),t(e))}})})},u.prototype.setExternalSpeaker=function(e,t,n){if(JSON.stringify(n),"boolean"==typeof n.externalSpeaker){var u=null;switch(n.externalSpeaker){case!0:u="on";break;case!1:u="off"}o.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{enableSpeaker:u}},onSuccess:function(){"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSES","Sound.setExternalSpeaker returns failure."),t(e))}})}else if("function"==typeof t){var s={};r(s,"SSVL","Sound.setExternalSpeaker returns failure. out of range or invalid parameter type."),t(s)}},u.prototype.setMuted=function(e,t,n){if(JSON.stringify(n),"boolean"==typeof n.muted)i(function(u){4===u.webOSVer||u.webOSVer>4?o.Request("luna://com.webos.service.commercial.scapadapter/sound",{method:"setMuted",parameters:{muted:n.muted},onSuccess:function(t){!0===t.returnValue&&"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSM","Sound.setMuted returns failure."),t(e))}}):o.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"version",onSuccess:function(u){var s=u.version,a="";a="1"===s[0]&&"5"===s[2]?"com.webos.surfacemanager.supportCommerSoundSetting":"tv.model.supportCommerSoundSetting",o.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:[a]},onSuccess:function(u){if(!0===u.returnValue){var s=u.configs[a];o.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["extSpkVolumeControl"]},onSuccess:function(u){if(!0===u.returnValue){var a=u.settings.extSpkVolumeControl;if(!0!==s&&(!1!==s||"1"!==a))return delete u.returnValue,void("function"==typeof t&&(r(u,"SSM","unsupported feature"),t(u)));o.Request("luna://com.webos.audio/",{method:"setMuted",parameters:{muted:n.muted},onSuccess:function(t){!0===t.returnValue&&"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSM","Sound.setMuted returns failure."),t(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSM","Sound.setMuted returns failure"),t(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSM","Sound.setMuted returns failure"),t(e))}})},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSM","Sound.setMuted returns failure."),t(e))}})});else if("function"==typeof t){var u={};r(u,"SSM","Sound.setMuted returns failure. out of range or invalid parameter type."),t(u)}},u.prototype.setSoundMode=function(e,t,n){var s,a=null;switch(n.mode){case u.SoundMode.Standard:a="standard";break;case u.SoundMode.Cinema:a="movie";break;case u.SoundMode.ClearVoice:a="news";break;case u.SoundMode.Sports:a="sports";break;case u.SoundMode.Music:a="music";break;case u.SoundMode.Game:a="game"}(n.balance<-50||n.balance>50)&&isNumber(n.balance)&&(r(s={},"SSSM","Sound.setSoundMode returns failure. Out of range."),t(s));if(null===a&&"function"==typeof t)return r(s={},"SSSM","Sound.setSoundMode returns failure. command was not defined."),void t(s);o.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"sound",settings:{soundMode:a,audioBalance:n.balance}},onSuccess:function(t){!0===t.returnValue&&"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSSM","Sound.setSoundMode returns failure."),t(e))}})},u.prototype.getSoundMode=function(e,t){o.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"sound",keys:["soundMode","audioBalance"]},onSuccess:function(t){if(!0===t.returnValue){var n={};n.mode=t.settings.soundMode,n.balance=t.settings.audioBalance,"function"==typeof e&&e(n)}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SGSM","Sound.getSoundMode returns failure."),t(e))}})},u.prototype.setSoundOut=function(e,t,n){i(function(s){if(3!==s.webOSVer){var a={};return r(a,"SSSO","Sound.setSoundOut returns failure. Only webOS 3.0 support setSoundOut API."),void t(a)}o.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:["system.supportBluetoothFeatures"]},onSuccess:function(s){if(!0===s.returnValue){if(-1===s.configs["system.supportBluetoothFeatures"].indexOf("btsound"))if(n.speakerType===u.SpeakerType.LGSoundSync)return r(s={},"SSSO","Sound.setSoundOut returns failure. bluetooth soundsync is not supported."),void t(s);var a=null;switch(n.speakerType){case u.SpeakerType.SignageSpeaker:a="tv_speaker";break;case u.SpeakerType.LGSoundSync:a="bt_soundbar"}if(null===a&&"function"==typeof t)return r(s={},"SSSO","Sound.setSoundOut returns failure. command was not defined."),void t(s);o.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"sound",settings:{soundOutput:a}},onSuccess:function(t){!0===t.returnValue&&"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSSO","Sound.setSoundOut returns failure."),t(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SSSO","unsupported feature"),t(e))}})})},u.prototype.getSoundOut=function(e,t){i(function(n){if(3!==n.webOSVer){var u={};return r(u,"SGSO","Sound.getSoundOut returns failure. Only webOS 3.0 support getSoundOut API."),void t(u)}o.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"sound",keys:["soundOutput"]},onSuccess:function(t){if(!0===t.returnValue){var n={};n.speakerType=t.settings.soundOutput,"function"==typeof e&&e(n)}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r(e,"SGSO","Sound.getSoundOut returns failure."),t(e))}})})},n.exports=u}),Sound=cordova.require("cordova/plugin/sound");