cordova.define("cordova/plugin/signage",function(e,r,o){var t;t=window.PalmSystem?e("cordova/plugin/webos/service"):{Request:function(e,r){"function"==typeof r.onFailure&&r.onFailure({returnValue:!1,errorCode:"CORDOVA_ERR",errorText:"PalmSystem Not Available. Cordova is not installed?"})}};var n=function(e){var r=M[e];JSON.stringify(r,null,3),r&&!0===r.getEvent&&M[e].listenerObj&&(M[e].listenerObj.cancel(),M[e].getEvent=!1,M[e].listenerObj=null)},i=function(e,r){var o=M[e];o&&"function"==typeof o.createListener&&(o.listenerObj=o.createListener(r),o.getEvent=!0)};function a(e,r){for(var o in e)if(e[o]===r)return!0;return!1}var u="failover",s="backupViaStorage",c="enableIrRemote",l="enableLocalKey",f="osdPortraitMode",d="tileMode",g="tileId",m="tileRow",p="tileCol",v="naturalMode",S="ismmethod";var y=function(e,r,o){var n=t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"systemMonitor/startMonitorRS232C",parameters:{subscribe:!0},onSuccess:function(t){if(JSON.stringify(t,null,3),!0!==t.returnValue)var i,a,u,s;else if(1===Object.keys(t).length)a="RS232C",u=n,s=o,!1===R.hasOwnProperty(a)?(R[a]={},R[a].instanceOfSubscription=u,R[a].eventListener=s):(R[a].instanceOfSubscription=u,R[a].eventListener=s),e();else if(!0===t.hasOwnProperty("data")){var c=(i="RS232C",!1!==R.hasOwnProperty(i)&&R[i]);!1===c?r({errorCode:"INTERNAL_ERROR",errorText:"There is not subscriptionEventInfo"}):"function"==typeof c.eventListener&&c.eventListener({data:t.data})}else r({errorCode:"INTERNAL_ERROR",errorText:"Unknown return value"})},onFailure:function(e){JSON.stringify(e,null,3),r({errorCode:"LUNA_ERROR",errorText:"Failed to request getRS232CEvent to system"})}})},M={fan:{getEvent:!1,listenerObj:null,createListener:function(e){return t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"systemMonitor/getFanEvent",parameters:{subscribe:!0},onSuccess:function(r){if(JSON.stringify(r,null,3),!0===r.returnValue){var o={source:O.MonitoringSource.FAN,type:O.EventType.FAN_STATUS,data:{status:r.fanFault}};"function"==typeof e&&e(o)}},onFailure:function(e){JSON.stringify(e,null,3)}})}},screen:{getEvent:!1,listenerObj:null,createListener:function(e){return t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"systemMonitor/getScreenEvent",parameters:{subscribe:!0},onSuccess:function(r){if(JSON.stringify(r,null,3),!0===r.returnValue){var o={source:O.MonitoringSource.SCREEN,type:O.EventType.SCREEN_STATUS,data:{status:r.screen}};"function"==typeof e&&e(o)}},onFailure:function(e){JSON.stringify(e,null,3)}})}},temperature:{getEvent:!1,listenerObj:null,createListener:function(e){return t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"systemMonitor/getTemperature",parameters:{subscribe:!0},onSuccess:function(r){if(JSON.stringify(r,null,3),!0===r.returnValue){var o={source:O.MonitoringSource.THERMOMETER,type:O.EventType.CURRENT_TEMPERATURE,data:{temperature:r.temperature}};"function"==typeof e&&e(o)}},onFailure:function(e){JSON.stringify(e,null,3)}})}},signal:{getEvent:!1,listenerObj:null,createListener:function(e){return t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"systemMonitor/getSignalEvent",parameters:{subscribe:!0},onSuccess:function(r){if(JSON.stringify(r,null,3),!0===r.returnValue){var o={type:O.EventType.SIGNAL_STATUS,source:O.MonitoringSource.SIGNAL,data:{}};!0===r.noSignal?o.data.status="no_signal":o.data.status="signal_available","function"==typeof e&&e(o)}},onFailure:function(e){JSON.stringify(e,null,3)}})}},lamp:{getEvent:!1,listenerObj:null,createListener:function(e){return t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"systemMonitor/getLampEvent",parameters:{subscribe:!0},onSuccess:function(r){if(JSON.stringify(r,null,3),!0===r.returnValue){var o={source:O.MonitoringSource.LAMP,type:O.EventType.LAMP_STATUS,data:{status:r.lampFault}};"function"==typeof e&&e(o)}},onFailure:function(e){JSON.stringify(e,null,3)}})}}},R={RS232C:{instanceOfSubscription:null,eventListener:null}},T={row:0,col:0},O=function(){};function h(e,r,o){void 0!==e.errorCode&&null!==e.errorCode||(e.errorCode=r),void 0!==e.errorText&&null!==e.errorText||(e.errorText=o)}function E(e,r,o,n,i){var a={category:e,keys:r};t.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:a,onSuccess:function(e){if(!0===e.returnValue){var r=o(e.settings);!1===r?"function"==typeof i&&i({errorText:"Invalid DB value",errorCode:"DB_ERROR"}):"function"==typeof n&&n(r)}else JSON.stringify(e,null,3),"function"==typeof i&&i({errorText:"Invalid DB value : "+e.errorText,errorCode:"DB_ERROR"})},onFailure:function(e){if(delete e.returnValue,e.settings){JSON.stringify(e.settings,null,3);var r=o(e.settings);JSON.stringify(e.errorKey,null,3);for(var t=0;t<e.errorKey.length;++t)r[e.errorKey[t]]=O.UNDEFINED;JSON.stringify(r,null,3),"function"==typeof n&&n(r)}else"function"==typeof i&&i({errorText:void 0===e.errorText?"DB Failure":e.errorText,errorCode:"DB_ERROR"})}}),JSON.stringify(a)}function A(e,r,o,n){var i={category:e,settings:r};JSON.stringify(r,null,3);var a=!1;for(var u in r)if(u){a=!0;break}!1!==a?(t.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:i,onSuccess:function(){"function"==typeof o&&o()},onFailure:function(e){delete e.returnValue,"function"==typeof n&&n(e)}}),JSON.stringify(i)):o()}function b(e){return"on"===e}O.UNDEFINED="___undefined___",O.OsdPortraitMode={ON:"90",OFF:"off"},O.ImgResolution={HD:"HD",FHD:"FHD"},O.AutomaticStandbyMode={OFF:"off",STANDBY_4HOURS:"4hours"},O.IsmMethod={NORMAL:"NORMAL",ORBITER:"ORBITER",INVERSION:"INVERSION",COLORWASH:"COLORWASH",WHITEWASH:"WHITEWASH",WASHING_BAR:"WASHINGBAR",USER_IMAGE:"USERIMAGE",USER_VIDEO:"USERVIDEO"},O.FailoverMode={OFF:"off",AUTO:"auto",MANUAL:"manual"},O.DigitalAudioInput={HDMI_DP:"hdmi",AUDIO_IN:"audioIn"},O.DpmMode={OFF:"off",POWER_OFF_5SECOND:"5sec",POWER_OFF_10SECOND:"10sec",POWER_OFF_15SECOND:"15sec",POWER_OFF_1MINUTE:"1min",POWER_OFF_3MINUTE:"3min",POWER_OFF_5MINUTE:"5min",POWER_OFF_10MINUTE:"10min"},O.KeyOperationMode={ALLOW_ALL:"normal",POWER_ONLY:"usePwrOnly",BLOCK_ALL:"blockAll"},O.EventType={CURRENT_TEMPERATURE:"CURRENT_TEMPERATURE",FAN_STATUS:"FAN_STATUS",LAMP_STATUS:"LAMP_STATUS",SCREEN_STATUS:"SCREEN_STATUS",SIGNAL_STATUS:"SIGNAL_STATUS"},O.MonitoringSource={FAN:"FAN",LAMP:"LAMP",SIGNAL:"SIGNAL",SCREEN:"SCREEN",THERMOMETER:"THERMOMETER"},O.prototype.setPortraitMode=function(e,r,o){var n,i={};if(function(e){if(e.portraitMode){for(var r in O.OsdPortraitMode)if(e.portraitMode===O.OsdPortraitMode[r])return!0;return n="Signage.setPortraitMode: Unrecognized OsdPortraintMode : "+e.portraitMode,!1}return n="Signage.setPortraitMode: portraitMode does not exist.",!1}(o)){var a=o.portraitMode;i[f]=a,t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"setOsdPortraitMode",parameters:{osdPortraitMode:o.portraitMode},onSuccess:function(r){e()},onFailure:function(o){-1!==o.errorText.indexOf("Unknown method")?A("commercial",i,e,r):r({errorCode:o.errorCode,errorText:o.errorText})}})}else r({errorCode:"BAD_PARAMETER",errorText:n})},O.prototype.setFailoverMode=function(e,r,o){var n,i={};if(function(e){JSON.stringify(e,null,3);var r=e.failoverMode;if(r){if(r.mode){if(r.mode===O.FailoverMode.MANUAL)return r.priority?0!==r.priority.length&&void 0!==r.priority.length:(n="priority should be present when mode is MANUAL.",!1);if(r.priority)return n="This priority is available only if mode is : Signage.FailoverMode.MANUAL",!1;var o=!1;r.mode;for(var t in O.FailoverMode)r.mode===O.FailoverMode[t]&&(O.FailoverMode[t],o=!0);return!!o||(r.mode,n="Unrecognized failoverMode : "+r.mode,!1)}return!r.priority||(r.mode,n="Unrecognized failoverMode : "+r.mode,!1)}return n="Fail over mode not set : ",!1}(o)){var a=o.failoverMode;if(a.mode||a.priority)if(a.mode===O.FailoverMode.MANUAL)t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"setManualFailoverPrioirty",parameters:{priority:a.priority},onSuccess:function(o){o.returnValue?e():(o.errorText,r({errorCode:o.errorCode,errorText:o.errorText}))},onFailure:function(e){e.errorText,r({errorCode:e.errorCode,errorText:e.errorText})}});else if(a.mode){var c=a.mode;a.mode,i[u]=c,i[s]=c,JSON.stringify(i,null,3),A("commercial",i,e,r)}else{r({errorCode:"BAD_PARAMETER",errorText:"Mode should be set."})}else e()}else{r({errorCode:"BAD_PARAMETER",errorText:n})}},O.prototype.getFailoverMode=function(e,r){try{t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"getFailoverPrioirty",parameters:{},onSuccess:function(o){if(o.returnValue){for(var t=[],n=0;n<o.priority.length;n++){var i=o.priority[n].split("/");void 0===i[3]?t.push("ext://"+i[2].toLowerCase()):t.push("ext://"+i[2].toLowerCase()+":1")}e({priority:t,mode:o.mode})}else o.errorText,r({errorCode:o.errorCode,errorText:o.errorText})},onFailure:function(e){e.errorText,r({errorCode:e.errorCode,errorText:e.errorText})}})}catch(e){r({errorCode:"SGFO",errorText:"Signage.getFailoverMode occur error during operaation."})}},O.prototype.setTileInfo=function(e,r,o){var n,i=15,a=15;t.Request("luna://com.webos.service.config",{method:"getConfigs",parameters:{configNames:["commercial.video.tileRowMax","commercial.video.tileColMax"]},onSuccess:function(t){if(t.returnValue)if(i=t.configs["commercial.video.tileRowMax"],a=t.configs["commercial.video.tileColMax"],!0===function(e,r,o){var t=typeof e.tileInfo.enabled;if("undefined"!==t&&"boolean"!==t)return n="enabled should be a boolean",!1;var i=function(e){return!new RegExp(/^[0-9]+$/g).exec(e)};if(!e.tileInfo)return n="Tile info is mandatory",!1;var a=e.tileInfo.row;if(void 0===a)return!0;if(i(a))return n="row should be a natural number :"+a,!1;if(a>r||a<1)return n="row should be 0<n<"+(r+1)+" but :"+a,!1;var u=e.tileInfo.column;if(void 0===u)return!0;if(i(u))return n="column should be a natural number :"+u,!1;if(u>o||u<1)return n="column should be 0<n<"+(o+1)+" but :"+u,!1;var s=e.tileInfo.tileId;if(void 0===s)return!0;if(i(s))return n="id should be a natural number :"+s,!1;if(s<1)return n="id should be bigger than 0 but :"+s,!1;var c=T.row;a&&(c=a);var l=T.column;return u&&(l=u),!(s>l*c&&(n="ID should be less than curRow*curCol",1))}(o,i,a)){var u=o.tileInfo,s={};"boolean"==typeof u.enabled&&(u.enabled?s[d]="on":s[d]="off"),u.row&&(s[m]=u.row.toString()),u.column&&(s[p]=u.column.toString()),u.tileId&&(s[g]=u.tileId.toString()),"boolean"==typeof u.naturalMode&&(u.naturalMode?s[v]="on":s[v]="off"),JSON.stringify(s,null,3);A("commercial",s,function(){u.row&&(T.row=u.row),u.column&&(T.column=u.column),"function"==typeof e&&e()},r)}else{r({errorCode:"BAD_PARAM",errorText:n})}else t.errorText,r({errorCode:t.errorCode,errorText:t.errorText})},onFailure:function(e){e.errorText,r({errorCode:e.errorCode,errorText:e.errorText})}})},O.prototype.getTileInfo=function(e,r){E("commercial",[d,m,p,g,v],function(e){var r={};return JSON.stringify(e,null,3),r.enabled=b(e[d]),r.row=parseInt(e[m],10),r.column=parseInt(e[p],10),r.tileId=parseInt(e[g],10),r.naturalMode=b(e[v]),JSON.stringify(r,null,3),r},e,r)},O.prototype.getSignageInfo=function(e,r){t.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"getSignageInformation",parameters:{},onSuccess:function(r){if("function"==typeof e){if(r.signageInfo,void 0!==r.signageInfo.digitalAudioInputMode){var o=O.DigitalAudioInput.HDMI_DP;r.signageInfo.digitalAudioInputMode.hasOwnProperty("ext://HDMI:1")?o=r.signageInfo.digitalAudioInputMode["ext://HDMI:1"]:r.signageInfo.digitalAudioInputMode.hasOwnProperty("ext://hdmi:1")&&(o=r.signageInfo.digitalAudioInputMode["ext://hdmi:1"]),r.signageInfo.digitalAudioInputMode=o}e(r.signageInfo)}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&r(e)}})},O.prototype.enableCheckScreen=function(e,r,o){var t,n;if(void 0!==(n=o).checkScreen||null!==n.checkScreen||(t="need options.checkScreen.",0)){var i={checkScreen:!0===o.checkScreen?"on":"off"};JSON.stringify(i,null,3),A("commercial",i,e,r)}else{r({errorCode:"BAD_PARAMETER",errorText:t})}},O.prototype.setIsmMethod=function(e,r,o){var n,i={};t.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:["commercial.applist.disablePhoto","commercial.unsupportedFeatures"]},onSuccess:function(t){if("function"==typeof e&&!0===t.returnValue){for(var a=!0,u=!0,s=t.configs["commercial.applist.disablePhoto"],c=0;c<s.length;c++)if("com.webos.app.ism"===s[c].toLowerCase()){a=!1;break}for(var l=t.configs["commercial.unsupportedFeatures"],f=0;f<l.length;f++)if("usb"===l[f].toLowerCase()){a=!1,u=!1;break}if(function(e,r,o){if(e.ismMethod){if(!1===r&&e.ismMethod===O.IsmMethod.USER_IMAGE||!1===o&&(e.ismMethod===O.IsmMethod.USER_IMAGE||e.ismMethod===O.IsmMethod.USER_VIDEO))return n="no supported ismMethod  : "+e.ismMethod,!1;for(var t in O.IsmMethod)if(e.ismMethod===O.IsmMethod[t])return!0;return n="Unrecognized ismMethod  : "+e.ismMethod,!1}return n="ismMethod  does not exist.",!1}(o,a,u)){if(o.ismMethod){var d=o.ismMethod;i[S]=d}JSON.stringify(i,null,3),A("commercial",i,e,r)}else{r({errorCode:"BAD_PARAMETER",errorText:n})}}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&r(e)}})},O.prototype.setDigitalAudioInputMode=function(e,r,o){var n,i;(i=o).hasOwnProperty("digitalAudioInputList")||!i.hasOwnProperty("digitalAudioInput")&&(n="digitalAudioInputList  does not exist.",1)?r({errorCode:"BAD_PARAMETER",errorText:n}):t.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"setDigitalAudioInputList",parameters:{digitalAudioInputList:{"ext://hdmi:1":o.digitalAudioInput}},onSuccess:function(){"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof r&&r(e)}})};var I=!1;function N(e,r){JSON.stringify(M,null,3);for(var o in M)o&&n(o);t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"systemMonitor/stopMonitor",parameters:{},onSuccess:function(o){!0===o.returnValue?"function"==typeof e&&e():"function"==typeof r&&r(o)},onFailure:function(e){delete e.returnValue,"function"==typeof r&&r(e)}})}O.prototype.registerSystemMonitor=function(e,r,o){var n,a=["fan","signal","lamp","screen","temperature"],u="BAD_PARAMETER";if(JSON.stringify(M,null,3),function(e){if(!0===I)return n="Not ready to register monitor now.",u="SYSTEM_ERROR",!1;if(JSON.stringify(e,null,3),"function"!=typeof e.eventHandler)return n="No event handler was given or event hadnler is not a function",!1;if(e.monitorConfiguration){for(var r in e.monitorConfiguration)if(r){for(var o=!1,t=0;t<a.length;++t)r===a[t]&&(a[t],o=!0);if(!o)return n="Invalid Monitoring source  : "+r,!1;var i=e.monitorConfiguration[r];if("boolean"!=typeof i)return n="Invalid value  : "+i,!1}return!0}return n="monitorConfiguration  does not exist.",!1}(o)){I=!0,N(function(){var n=o.eventHandler;for(var a in o.monitorConfiguration)a&&!0===o.monitorConfiguration[a]&&i(a,n);JSON.stringify(M,null,3),t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"systemMonitor/startMonitor",parameters:{},onSuccess:function(o){!0===o.returnValue?"function"==typeof e&&e():"function"==typeof r&&r(o),I=!1},onFailure:function(e){delete e.returnValue,"function"==typeof r&&r(e),I=!1}})},function(e){r(e)})}else{r({errorCode:u,errorText:n})}},O.prototype.unregisterSystemMonitor=function(e,r){N(e,r),JSON.stringify(M,null,3)},O.prototype.getSystemMonitoringInfo=function(e,r){if(M)e({fan:M.fan.getEvent,signal:M.signal.getEvent,lamp:M.lamp.getEvent,screen:M.screen.getEvent,temperature:M.temperature.getEvent});else{r({errorCode:"ERROR",errorText:"Failed to get system monitoring setup"})}},O.prototype.setPowerSaveMode=function(e,r,o){var n;(function(e){if(e.powerSaveMode){for(var r in e.powerSaveMode)if(r){var o=e.powerSaveMode[r];if("ses"===r||"do15MinOff"===r){if("boolean"!=typeof o)return n="Invalid value  : "+o,!1}else if("automaticStandby"===r){if(!a(O.AutomaticStandbyMode,o))return n="Invalid automaticStandby value  : "+o,!1}else{if("dpmMode"!==r)return n="Unknown value  : "+r,!1;if(!a(O.DpmMode,o))return n="Invalid dpmMode value  : "+o,!1}}return!0}return n="powerSaveMode  does not exist.",!1})(o)?(o.powerSaveMode,t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"setPowerSaveMode",parameters:{mode:o.powerSaveMode},onSuccess:function(o){o.returnValue?e(o.mode):(o.errorText,r({errorCode:o.errorCode,errorText:o.errorText}))},onFailure:function(e){e.errorText,r({errorCode:e.errorCode,errorText:e.errorText})}})):r({errorCode:"BAD_PARAMETER",errorText:n})},O.prototype.getPowerSaveMode=function(e,r){t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"getPowerSaveMode",parameters:{},onSuccess:function(o){o.returnValue?e(o.mode):(o.errorText,r({errorCode:o.errorCode,errorText:o.errorText}))},onFailure:function(e){e.errorText,r({errorCode:e.errorCode,errorText:e.errorText})}})},O.prototype.setUsagePermission=function(e,r,o){var t,n={};if(function(e){if(e.policy){for(var r in e.policy)if(r){var o=e.policy[r];if("remoteKeyOperationMode"!==r&&"localKeyOperationMode"!==r)return t="Unknown value  : "+r,!1;if(!a(O.KeyOperationMode,o))return t="Invalid  KeyOperationMode value  : "+o,!1}return!0}return t="policy  does not exist.",!1}(o)){if(o.policy.localKeyOperationMode){var i=o.policy.localKeyOperationMode;n[l]=i}if(o.policy.remoteKeyOperationMode){var u=o.policy.remoteKeyOperationMode;n[c]=u}JSON.stringify(n,null,3),A("hotelMode",n,e,r)}else{r({errorCode:"BAD_PARAMETER",errorText:t})}},O.prototype.getUsagePermission=function(e,r){E("hotelMode",[c,l],function(e){JSON.stringify(e,null,3);var r={};return r.remoteKeyOperationMode=e[c],r.localKeyOperationMode=e[l],JSON.stringify(r,null,3),r},e,r)},O.prototype.getUsageData=function(e,r){var o=!1,n=!1,i={uptime:!1,totalUsed:!1};function a(){if(!0===o&&!0===n)return JSON.stringify(i,null,3),!1===i.uptime||!1===i.totalUsed?void r({errorCode:"CORDOVA_FAIL",errorText:"Failed to get usage data"}):void e(i)}t.Request("luna://com.webos.service.tv.signage/",{method:"getUTT",parameters:{},onSuccess:function(e){o=!0,!0===e.returnValue&&(e.UTT,i.totalUsed=e.UTT),a()},onFailure:function(e){JSON.stringify(e,null,3),o=!0,a()}}),t.Request("luna://com.webos.service.tv.signage/",{method:"dsmp/getElapsedTime",parameters:{},onSuccess:function(e){if(n=!0,JSON.stringify(e,null,3),!0===e.returnValue){var r=e.elapsedTime;i.uptime=r}a()},onFailure:function(e){JSON.stringify(e,null,3),n=!0,a()}})},O.prototype.captureScreen=function(e,r,o){var n={save:void 0!==o&&null!==o&&void 0!==o.save&&o.save};void 0!==o&&null!==o&&void 0!==o.thumbnail&&!0===o.thumbnail?(n.width=128,n.height=72):o.imgResolution===O.ImgResolution.FHD?(n.width=1920,n.height=1080):(n.width=1280,n.height=720),t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"captureScreen",parameters:n,onSuccess:function(o){!0===o.returnValue?e({data:o.data,size:o.size,encoding:o.encoding}):r({errorCode:o.errorCode,errorText:o.errorText})},onFailure:function(e){r({errorCode:e.errorCode,errorText:e.errorText})}})},O.prototype.setIntelligentAuto=function(e,r,o){if(o.enabled,null===o.enabled&&"function"==typeof r){var n={};return h(n,"SSIA","Signage.setIntelligentAuto returns failure. command was not defined."),void r(n)}t.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{intelligentAuto:!0===o.enabled?"on":"off"}},onSuccess:function(r){!0===r.returnValue&&"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SSIA","Signage.setIntelligentAuto returns failure."),r(e))}})},O.prototype.getIntelligentAuto=function(e,r){t.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["intelligentAuto"]},onSuccess:function(r){if(!0===r.returnValue){var o={};o.enabled=r.settings.intelligentAuto,"function"==typeof e&&e(o)}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SGIA","Signage.getIntelligentAuto returns failure."),r(e))}})},O.prototype.setStudioMode=function(e,r,o){if(o.enabled,null===o.enabled&&"function"==typeof r){var n={};return h(n,"SSSM","Signage.setStudioMode returns failure. command was not defined."),void r(n)}t.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"version",onSuccess:function(n){if(!0===n.returnValue){var i=n.version;if("1"===i[0]&&"5"===i[2]){var a={};return h(a,"ERROR","This function is not supported"),void r(a)}t.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{studioMode:!0===o.enabled?"on":"off"}},onSuccess:function(r){!0===r.returnValue&&"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SSSM","Signage.setStudioMode returns failure."),r(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SSSM","Signage.setStudioMode returns failure."),r(e))}})},O.prototype.getStudioMode=function(e,r){t.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"version",onSuccess:function(o){if(!0===o.returnValue){var n=o.version;if("1"===n[0]&&"5"===n[2]){var i={};return h(i,"ERROR","This function is not supported"),void r(i)}t.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["studioMode"]},onSuccess:function(r){if(!0===r.returnValue){var o={};o.enabled="on"===r.settings.studioMode,"function"==typeof e&&e(o)}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SGSM","Signage.getStudioMode returns failure."),r(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SGSM","Signage.getStudioMode returns failure."),r(e))}})},O.prototype.setLanDaisyChain=function(e,r,o){t.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:["commercial.hw.lanDaisyChain"]},onSuccess:function(n){if(!0===n.returnValue){if(!1===n.configs["commercial.hw.lanDaisyChain"])return h(n,"SSLD","Signage.setLanDaisyChain returns failure. unsupported feature. "),void r(n);if(null===o.enabled&&"function"==typeof r)return h(n={},"SSLD","Signage.setLanDaisyChain returns failure. command was not defined."),void r(n);o.enabled,t.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{lanDaisyChain:!0===o.enabled?"on":"off"}},onSuccess:function(r){!0===r.returnValue&&"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SSIA","Signage.setLanDaisyChain returns failure."),r(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&r(e)}})},O.prototype.getLanDaisyChain=function(e,r){t.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:["commercial.hw.lanDaisyChain"]},onSuccess:function(o){if(!0===o.returnValue){if(!1===o.configs["commercial.hw.lanDaisyChain"])return h(o,"SSLD","Signage.getLanDaisyChain returns failure. unsupported feature. "),void r(o);t.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["lanDaisyChain"]},onSuccess:function(r){if(!0===r.returnValue){var o={};o.enabled="on"===r.settings.lanDaisyChain,"function"==typeof e&&e(o)}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SSLD","Signage.getLanDaisyChain returns failure."),r(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&r(e)}})},O.prototype.registerRS232CEventListener=function(e,r,o){if("function"!=typeof o.eventListener){return r({errorCode:"BAD_PARAMETER",errorText:"No event listener was given or event listener is not a function"}),!1}y(e,r,o.eventListener)},O.prototype.unregisterRS232CEventListener=function(e,r){var o;!1!=(o="RS232C",!1!==R.hasOwnProperty(o)&&null!==R[o].instanceOfSubscription&&(R[o].instanceOfSubscription.cancel(),R[o].instanceOfSubscription=null,R[o].eventListener=null,!0))?t.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"systemMonitor/stopMonitorRS232C",parameters:{},onSuccess:function(o){!0===o.returnValue?"function"==typeof e&&e():"function"==typeof r&&r(o)},onFailure:function(e){delete e.returnValue,"function"==typeof r&&r(e)}}):"function"==typeof r&&r({errorCode:"BAD_PARAMETER",errorText:"Failed to remove event listener"})},O.prototype.addEventListener=i,O.prototype.removeEventListener=n,O.prototype.getNoSignalImageMode=function(e,r){t.Request("luna://com.webos.service.commercial.signage.storageservice/signage/",{method:"getNoSignalImageMode",onSuccess:function(r){if(!0===r.returnValue){var o={};o.enabled="on"===r.noSignalImage?"on":"off","function"==typeof e&&e(o)}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SGSI","Signage.getNoSignalImage returns failure."),r(e))}})},O.prototype.setNoSignalImageMode=function(e,r,o){t.Request("luna://com.webos.service.commercial.signage.storageservice/signage/",{method:"setNoSignalImageMode",parameters:{noSignalImageMode:o.noSignalImageMode},onSuccess:function(r){!0===r.returnValue&&"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SSSI","Signage.setNoSignalImageMode returns failure."),r(e))}})},O.prototype.updateNoSignalImageList=function(e,r,o){t.Request("luna://com.webos.service.commercial.signage.storageservice/signage/",{method:"updateNoSignalImageList",parameters:o,onSuccess:function(r){!0===r.returnValue&&"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SUNSIL","Signage.updateNoSignalImageList returns failure."),r(e))}})},O.prototype.resetNoSignalImage=function(e,r){t.Request("luna://com.webos.service.commercial.signage.storageservice/signage/",{method:"resetNoSignalImage",onSuccess:function(r){!0===r.returnValue&&"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(h(e,"SRNSI","Signage.resetNoSignalImage returns failure."),r(e))}})},o.exports=O}),Signage=cordova.require("cordova/plugin/signage");