DeviceInfo=function(){var s,u;function c(e,o,t){void 0!==e.errorCode&&null!==e.errorCode||(e.errorCode=o),void 0!==e.errorText&&null!==e.errorText||(e.errorText=t)}"object"==typeof window?(cordova.define("cordova/plugin/deviceInfo",function(e,o,t){s=function(){},u=window.PalmSystem?e("cordova/plugin/webos/service"):{Request:function(e,o){"function"==typeof o.onFailure&&o.onFailure({returnValue:!1,errorText:"PalmSystem Not Available. Cordova is not installed?"})}},t.exports=s}),s=cordova.require("cordova/plugin/deviceInfo")):(s=function(e){(u=e).Request=function(e,o){var t=e+"/"+o.method,n={};!0===o.hasOwnProperty("parameters")&&(n=o.parameters);var r={};u&&u.call(t,n,function(e){console.log("res : "+JSON.stringify(e)),!0===e.payload.returnValue?(r=e.payload,o.onSuccess(r)):(r.returnValue=!1,r.errorCode=e.payload.errorCode,r.errorText=e.payload.errorText,o.onFailure(r))})}},module.exports=s);var n=null,r={};return s.EddystoneFrame={UUID:"uid",URL:"url"},s.prototype.getNetworkInfo=function(o,t){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getNetworkInfo",parameters:{},onSuccess:function(e){"function"==typeof o&&(delete e.returnValue,o(e))},onFailure:function(e){-1!==e.errorText.indexOf("Unknown method")?u.Request("luna://com.palm.connectionmanager",{method:"getstatus",parameters:{},onSuccess:function(e){delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}}):(delete e.returnValue,"function"==typeof t&&t(e))}})},s.prototype.setNetworkInfo=function(o,t,e){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"setNetworkInfo",parameters:e,onSuccess:function(e){"function"==typeof o&&o()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.getBeaconInfo=function(o,t){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getBeaconInfo",parameters:{},onSuccess:function(e){delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.setBeaconInfo=function(o,t,e){var n;if(!0===e.enabled&&(!1==(null!=(n=e.uuid)&&32==n.length&&null!==new RegExp(/^[a-fA-F0-9]*$/g).exec(n))||isNaN(e.major)||e.major<0||65535<e.major||isNaN(e.minor)||e.minor<0||65535<e.minor)){if("function"==typeof t){var r={};c(r,"DSBI","DeviceInfo.setBeaconInfo. Invalid options."),t(r)}}else u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"setBeaconInfo",parameters:e,onSuccess:function(e){"function"==typeof o&&o()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.getSoftApInfo=function(o,t){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getSoftApInfo",parameters:{},onSuccess:function(e){delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.setSoftApInfo=function(o,t,e){if(!0===e.enabled&&(null!==e.ssid&&32<e.ssid.length||null!==e.securityKey&&6!==e.securityKey.length)){if("function"==typeof t){var n={};c(n,"DSSI","DeviceInfo.setSoftApInfo. Invalid options."),t(n)}}else u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"setSoftApInfo",parameters:e,onSuccess:function(e){"function"==typeof o&&o()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.getWifiList=function(o,t){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getWifiList",parameters:{},onSuccess:function(e){delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.connectWifi=function(o,t,e){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"connectWifi",parameters:e,onSuccess:function(e){"function"==typeof o&&o()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.startWps=function(o,t,e){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"startWps",parameters:e,onSuccess:function(e){delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.stopWps=function(o,t){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"stopWps",parameters:{},onSuccess:function(e){"function"==typeof o&&o()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.getNetworkMacInfo=function(o,t){!function(t){null===n?u.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["sdkVersion","boardType"]},onSuccess:function(e){var o=e.sdkVersion.split(".");r=1<=o.length&&"1"===o[0]?{webOSVer:1,chipset:e.boardType.split("_")[0]}:1<=o.length&&"2"===o[0]?{webOSVer:2,chipset:e.boardType.split("_")[0]}:1<=o.length&&"3"===o[0]?{webOSVer:3,chipset:e.boardType.split("_")[0]}:1<=o.length&&"4"===o[0]?{webOSVer:4,chipset:e.boardType.split("_")[0]}:{webOSVer:0,chipset:""},n=r.webOSVer,t(r)},onFailure:function(e){t(r={webOSVer:0,chipset:""})}}):t(r)}(function(e){4===e.webOSVer||4<e.webOSVer?u.Request("luna://com.webos.service.commercial.scapadapter/deviceinfo",{method:"getNetworkMacInfo",parameters:{},onSuccess:function(e){delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}}):u.Request("luna://com.webos.service.tv.signage",{method:"getinfo",parameters:{},onSuccess:function(e){delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})})},s.prototype.getPlatformInfo=function(o,t){u.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","serialNumber","firmwareVersion","hardwareVersion","sdkVersion"]},onSuccess:function(e){e.manufacturer="LGE",e.sdkVersion="1.5.5",delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.getSystemUsageInfo=function(t,n,e){u.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"getSystemUsageInfo",parameters:{cpus:e.cpus,memory:e.memory},onSuccess:function(e){if(!0===e.returnValue){var o={};void 0!==e.memory&&(o.memory=e.memory),void 0!==e.cpus&&(o.cpus=e.cpus),"function"==typeof t&&t(o)}else"function"==typeof n&&n({errorCode:e.errorCode,errorText:e.errorText})},onFailure:function(e){"function"==typeof n&&n({errorCode:e.errorCode,errorText:e.errorText})}})},s.prototype.setProxyInfo=function(o,t,e){var n={};if(e.enabled,"boolean"!=typeof e.enabled&&"function"==typeof t)return c(r={},"DSPI","DeviceInfo.setProxyInfo returns failure. enabled is not boolean."),void t(r);if(0==e.enabled)n.proxyEnable="off","string"==typeof e.ipAddress&&null!==e.ipAddress.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/)&&(n.proxySingleAddress=e.ipAddress),!1===isNaN(e.port)&&(n.proxySinglePort=e.port.toString());else{var r;if(n.proxyEnable="on",("string"!=typeof e.ipAddress||null===e.ipAddress.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/))&&"function"==typeof t)return c(r={},"DSPI","DeviceInfo.setProxyInfo returns failure. ipAddress is not valid."),void t(r);if(isNaN(e.port)&&"function"==typeof t)return c(r={},"DSPI","DeviceInfo.setProxyInfo returns failure. port is not number."),void t(r);n.proxySingleAddress=e.ipAddress,n.proxySinglePort=e.port.toString()}"string"==typeof e.userName&&(n.proxySingleUsername=e.userName),"string"==typeof e.password&&(n.proxySinglePassword=e.password),JSON.stringify(n),u.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:n},onSuccess:function(e){!0===e.returnValue&&"function"==typeof o&&o()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(c(e,"DSPI","DeviceInfo.setProxyInfo returns failure."),t(e))}})},s.prototype.getProxyInfo=function(t,o){u.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["proxyEnable","proxySingleAddress","proxySinglePort"]},onSuccess:function(e){if(!0===e.returnValue){var o={};o.enabled="on"===e.settings.proxyEnable,o.ipAddress=e.settings.proxySingleAddress,o.port=parseInt(e.settings.proxySinglePort),"function"==typeof t&&t(o)}},onFailure:function(e){delete e.returnValue,"function"==typeof o&&(c(e,"DGPI","DeviceInfo.getProxyInfo returns failure."),o(e))}})},s.prototype.setiBeaconInfo=function(o,t,e){var n,r={};if((null===e.enabled||void 0===e.enabled||"boolean"!=typeof e.enabled)&&"function"==typeof t)return c(i={},"DSIB","DeviceInfo.setiBeaconInfo returns failure. enabled is required."),void t(i);if(0==e.enabled)r.beaconMode="off";else{var i;if((null===e.uuid||void 0===e.uuid||!1==(null!=(n=e.uuid)&&32==n.length&&null!==new RegExp(/^[a-fA-F0-9]*$/g).exec(n)))&&"function"==typeof t)return c(i={},"DSIB","DeviceInfo.setiBeaconInfo returns failure. uuid is not valid."),void t(i);if((null===e.major||void 0===e.major||isNaN(e.major)||e.major<0||65535<e.major||null===e.minor||void 0===e.minor||isNaN(e.minor)||e.minor<0||65535<e.minor)&&"function"==typeof t)return c(i={},"DSIB","DeviceInfo.setiBeaconInfo returns failure. major and minor are not valid."),void t(i);r.beaconMode="on",r.beaconType="iBeacon",r.iBeaconUuid=e.uuid,r.iBeaconMajor=e.major.toString(),r.iBeaconMinor=e.minor.toString()}JSON.stringify(r),u.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:r},onSuccess:function(e){!0===e.returnValue&&u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"notifyUpdatingBeaconInfo",parameters:{},onSuccess:function(e){delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(c(e,"DSIB","DeviceInfo.setiBeaconInfo returns failure."),t(e))}})},s.prototype.getiBeaconInfo=function(t,o){u.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["beaconMode","iBeaconUuid","iBeaconMajor","iBeaconMinor"]},onSuccess:function(e){if(!0===e.returnValue){var o={};o.enabled="on"===e.settings.beaconMode,o.uuid=e.settings.iBeaconUuid,o.major=parseInt(e.settings.iBeaconMajor),o.minor=parseInt(e.settings.iBeaconMinor),"function"==typeof t&&t(o)}},onFailure:function(e){delete e.returnValue,"function"==typeof o&&(c(e,"DGIB","DeviceInfo.getiBeaconInfo returns failure."),o(e))}})},s.prototype.setEddystoneInfo=function(o,t,e){var n,r={};if(e.enabled,(null===e.enabled||void 0===e.enabled||"boolean"!=typeof e.enabled)&&"function"==typeof t)return c(i={},"DSEI","DeviceInfo.setEddystoneInfo returns failure. enabled is required."),void t(i);if(!1===e.enabled)r.beaconMode="off";else if(r.beaconMode="on",r.beaconType="eddystone",e.frame===s.EddystoneFrame.UUID){if(!1==(null!=(n=e.frameData)&&32==n.length&&null!==new RegExp(/^[a-fA-F0-9]*$/g).exec(n))&&"function"==typeof t)return c(i={},"DSEI","DeviceInfo.setEddystoneInfo returns failure. frameData is not valid."),void t(i);r.eddyStoneFrame=e.frame,r.eddyStoneUuid=e.frameData}else{if(e.frame!==s.EddystoneFrame.URL)return c(i={},"DSEI","DeviceInfo.setEddystoneInfo returns failure. frame is not valid."),void t(i);if((null===e.frameData||void 0===e.frameData||"string"!=typeof e.frameData||e.frameData.search("://")<0||"HTTP"!==e.frameData.substring(0,4).toUpperCase())&&"function"==typeof t)return c(i={},"DSEI","DeviceInfo.setEddystoneInfo returns failure. frameData is not valid."),void t(i);r.eddyStoneFrame=e.frame,r.eddyStoneUrlPrefix=e.frameData.substring(0,e.frameData.search("://")),"WWW"===e.frameData.substring(e.frameData.search("://")+3,3).toUpperCase()&&(r.eddyStoneUrlPrefix=r.eddyStoneUrlPrefix+"Ex");var i,a=0;if("HTTP"===r.eddyStoneUrlPrefix.toUpperCase()?a=7:"HTTPEX"===r.eddyStoneUrlPrefix.toUpperCase()?a=11:"HTTPS"===r.eddyStoneUrlPrefix.toUpperCase()?a=8:"HTTPSEX"===r.eddyStoneUrlPrefix.toUpperCase()&&(a=12),17<e.frameData.length-a)return c(i={},"DSEI","DeviceInfo.setEddystoneInfo returns failure. url size is over."),void t(i);r.eddyStoneUrl=e.frameData.substring(a,e.frameData.length),r.eddyStoneUrlExCode="noneValue"}JSON.stringify(r),u.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:r},onSuccess:function(e){!0===e.returnValue&&u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"notifyUpdatingBeaconInfo",parameters:{},onSuccess:function(e){delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(c(e,"DSEI","DeviceInfo.setEddystoneInfo returns failure."),t(e))}})},s.prototype.getEddystoneInfo=function(t,o){u.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["beaconMode","eddyStoneFrame","eddyStoneUuid","eddyStoneUrlPrefix","eddyStoneUrl","eddyStoneUrlExCode"]},onSuccess:function(e){if(!0===e.returnValue){var o={};o.enabled="on"===e.settings.beaconMode,o.frame=e.settings.eddyStoneFrame,e.settings.eddyStoneFrame===s.EddystoneFrame.UUID?o.frameData=e.settings.eddyStoneUuid:"http"===e.settings.eddyStoneUrlPrefix?o.frameData="http://"+e.settings.eddyStoneUrl:"httpEx"===e.settings.eddyStoneUrlPrefix?o.frameData="http://www."+e.settings.eddyStoneUrl:"https"===e.settings.eddyStoneUrlPrefix?o.frameData="https://"+e.settings.eddyStoneUrl:o.frameData="https://www."+e.settings.eddyStoneUrl,"function"==typeof t&&t(o)}},onFailure:function(e){delete e.returnValue,"function"==typeof o&&(c(e,"DGEI","DeviceInfo.getEddystoneInfo returns failure."),o(e))}})},s.prototype.getBlockedPortList=function(o,t){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getBlockedPortList",parameters:{},onSuccess:function(e){delete e.returnValue,"function"==typeof o&&o(e)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(c(e,"DGEI","DeviceInfo.getBlockedPortList returns failure."),t(e))}})},s.prototype.addBlockedPortList=function(o,t,e){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"addBlockedPortList",parameters:e,onSuccess:function(e){"function"==typeof o&&o()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s.prototype.deleteBlockedPortList=function(o,t,e){u.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"deleteBlockedPortList",parameters:e,onSuccess:function(e){"function"==typeof o&&o()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&t(e)}})},s}();