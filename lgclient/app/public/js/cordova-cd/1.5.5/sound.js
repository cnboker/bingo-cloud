cordova.define("cordova/plugin/sound",function(e,t,n){var a;a=window.PalmSystem?e("cordova/plugin/webos/service"):{Request:function(e,t){"function"==typeof t.onFailure&&t.onFailure({returnValue:!1,errorText:"PalmSystem Not Available. Cordova is not installed?"})}};function r(){}function i(e,t,n){void 0!==e.errorCode&&null!==e.errorCode||(e.errorCode=t),void 0!==e.errorText&&null!==e.errorText||(e.errorText=n)}var o=null,u={};function c(n){null===o?a.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["sdkVersion","boardType"]},onSuccess:function(e){e.sdkVersion;var t=e.sdkVersion.split(".");u=1<=t.length&&"1"===t[0]?{webOSVer:1,chipset:e.boardType.split("_")[0]}:1<=t.length&&"2"===t[0]?{webOSVer:2,chipset:e.boardType.split("_")[0]}:1<=t.length&&"3"===t[0]?{webOSVer:3,chipset:e.boardType.split("_")[0]}:1<=t.length&&"4"===t[0]?{webOSVer:4,chipset:e.boardType.split("_")[0]}:{webOSVer:0,chipset:""},o=u.webOSVer,n(u)},onFailure:function(e){n(u={webOSVer:0,chipset:""})}}):n(u)}r.SoundMode={Standard:"standard",Cinema:"movie",ClearVoice:"news",Sports:"sports",Music:"music",Game:"game"},r.SpeakerType={SignageSpeaker:"tv_speaker",LGSoundSync:"bt_soundbar"},r.prototype.getSoundStatus=function(u,r){c(function(e){4===e.webOSVer||4<e.webOSVer?a.Request("luna://com.webos.service.commercial.scapadapter/sound",{method:"getSoundStatus",onSuccess:function(e){!0===e.returnValue&&(delete e.returnValue,u(e))},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(i(e,"SGSS","Sound.getSoundStatus returns failure."),r(e))}}):a.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"version",onSuccess:function(e){if(!0===e.returnValue){var t=e.version,o="";o="1"===t[0]&&"5"===t[2]?"com.webos.surfacemanager.supportCommerSoundSetting":"tv.model.supportCommerSoundSetting",a.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:[o]},onSuccess:function(e){if(!0===e.returnValue){var n=e.configs[o];a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["extSpkVolumeControl"]},onSuccess:function(e){if(!0===e.returnValue){var t=e.settings.extSpkVolumeControl;!0===n||!1===n&&"1"===t?a.Request("luna://com.webos.audio/",{method:"getVolume",onSuccess:function(e){if(!0===e.returnValue){var t={};t.level=e.volume,t.muted=e.muted,a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["enableSpeaker"]},onSuccess:function(e){!0===e.returnValue&&(t.externalSpeaker="on"===e.settings.enableSpeaker,"function"==typeof u&&u(t))},onFailure:function(e){"function"==typeof u&&u(t)}})}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(i(e,"SGSS","Sound.getSoundStatus returns failure."),r(e))}}):(delete e.returnValue,"function"==typeof r&&(i(e,"SGSS","unsupported feature"),r(e)))}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(i(e,"SGSS","Sound.getSoundStatus returns failure"),r(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(i(e,"SGSS","Sound.getSoundStatus returns failure."),r(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(i(e,"SGSS","Sound.getSoundStatus returns failure."),r(e))}})})},r.prototype.setVolumeLevel=function(t,n,o){if(JSON.stringify(o),"number"!=typeof o.level||isNaN(o.level)||o.level<0||100<o.level){if("function"==typeof n){var e={};i(e,"SSVL","Sound.setVolumeLevel returns failure. out of range or invalid parameter type."),n(e)}}else c(function(e){4===e.webOSVer||4<e.webOSVer?a.Request("luna://com.webos.service.commercial.scapadapter/sound",{method:"setVolumeLevel",parameters:{level:o.level,volOsdEnabled:o.volOsdEnabled},onSuccess:function(e){delete e.returnValue,"function"==typeof t&&t(e)},onFailure:function(e){delete e.returnValue,"function"==typeof n&&(i(e,"SSVL","Sound.setVolumeLevel returns failure."),n(e))}}):a.Request("luna://com.webos.service.commercial.signage.storageservice/sound/",{method:"setVolumeLevel",parameters:o,onSuccess:function(e){t()},onFailure:function(e){delete e.returnValue,"function"==typeof n&&(i(e,"SSVL","Sound.setVolumeLevel returns failure."),n(e))}})})},r.prototype.setExternalSpeaker=function(e,t,n){if(JSON.stringify(n),"boolean"==typeof n.externalSpeaker){var o=null;switch(n.externalSpeaker){case!0:o="on";break;case!1:o="off"}a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{enableSpeaker:o}},onSuccess:function(){"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(i(e,"SSES","Sound.setExternalSpeaker returns failure."),t(e))}})}else if("function"==typeof t){var u={};i(u,"SSVL","Sound.setExternalSpeaker returns failure. out of range or invalid parameter type."),t(u)}},r.prototype.setMuted=function(u,r,s){if(JSON.stringify(s),"boolean"==typeof s.muted)c(function(e){4===e.webOSVer||4<e.webOSVer?a.Request("luna://com.webos.service.commercial.scapadapter/sound",{method:"setMuted",parameters:{muted:s.muted},onSuccess:function(e){!0===e.returnValue&&"function"==typeof u&&u()},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(i(e,"SSM","Sound.setMuted returns failure."),r(e))}}):a.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"version",onSuccess:function(e){var t=e.version,o="";o="1"===t[0]&&"5"===t[2]?"com.webos.surfacemanager.supportCommerSoundSetting":"tv.model.supportCommerSoundSetting",a.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:[o]},onSuccess:function(e){if(!0===e.returnValue){var n=e.configs[o];a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["extSpkVolumeControl"]},onSuccess:function(e){if(!0===e.returnValue){var t=e.settings.extSpkVolumeControl;if(!0!==n&&(!1!==n||"1"!==t))return delete e.returnValue,void("function"==typeof r&&(i(e,"SSM","unsupported feature"),r(e)));a.Request("luna://com.webos.audio/",{method:"setMuted",parameters:{muted:s.muted},onSuccess:function(e){!0===e.returnValue&&"function"==typeof u&&u()},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(i(e,"SSM","Sound.setMuted returns failure."),r(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(i(e,"SSM","Sound.setMuted returns failure"),r(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(i(e,"SSM","Sound.setMuted returns failure"),r(e))}})},onFailure:function(e){delete e.returnValue,"function"==typeof r&&(i(e,"SSM","Sound.setMuted returns failure."),r(e))}})});else if("function"==typeof r){var e={};i(e,"SSM","Sound.setMuted returns failure. out of range or invalid parameter type."),r(e)}},r.prototype.setSoundMode=function(t,n,e){var o,u=null;switch(e.mode){case r.SoundMode.Standard:u="standard";break;case r.SoundMode.Cinema:u="movie";break;case r.SoundMode.ClearVoice:u="news";break;case r.SoundMode.Sports:u="sports";break;case r.SoundMode.Music:u="music";break;case r.SoundMode.Game:u="game"}(e.balance<-50||50<e.balance)&&isNumber(e.balance)&&(i(o={},"SSSM","Sound.setSoundMode returns failure. Out of range."),n(o));if(null===u&&"function"==typeof n)return i(o={},"SSSM","Sound.setSoundMode returns failure. command was not defined."),void n(o);a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"sound",settings:{soundMode:u,audioBalance:e.balance}},onSuccess:function(e){!0===e.returnValue&&"function"==typeof t&&t()},onFailure:function(e){delete e.returnValue,"function"==typeof n&&(i(e,"SSSM","Sound.setSoundMode returns failure."),n(e))}})},r.prototype.getSoundMode=function(n,t){a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"sound",keys:["soundMode","audioBalance"]},onSuccess:function(e){if(!0===e.returnValue){var t={};t.mode=e.settings.soundMode,t.balance=e.settings.audioBalance,"function"==typeof n&&n(t)}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(i(e,"SGSM","Sound.getSoundMode returns failure."),t(e))}})},r.prototype.setSoundOut=function(n,o,u){c(function(e){if(3!==e.webOSVer){var t={};return i(t,"SSSO","Sound.setSoundOut returns failure. Only webOS 3.0 support setSoundOut API."),void o(t)}a.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:["system.supportBluetoothFeatures"]},onSuccess:function(e){if(!0===e.returnValue){if(-1===e.configs["system.supportBluetoothFeatures"].indexOf("btsound"))if(u.speakerType===r.SpeakerType.LGSoundSync)return i(e={},"SSSO","Sound.setSoundOut returns failure. bluetooth soundsync is not supported."),void o(e);var t=null;switch(u.speakerType){case r.SpeakerType.SignageSpeaker:t="tv_speaker";break;case r.SpeakerType.LGSoundSync:t="bt_soundbar"}if(null===t&&"function"==typeof o)return i(e={},"SSSO","Sound.setSoundOut returns failure. command was not defined."),void o(e);a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"sound",settings:{soundOutput:t}},onSuccess:function(e){!0===e.returnValue&&"function"==typeof n&&n()},onFailure:function(e){delete e.returnValue,"function"==typeof o&&(i(e,"SSSO","Sound.setSoundOut returns failure."),o(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof o&&(i(e,"SSSO","unsupported feature"),o(e))}})})},r.prototype.getSoundOut=function(n,o){c(function(e){if(3!==e.webOSVer){var t={};return i(t,"SGSO","Sound.getSoundOut returns failure. Only webOS 3.0 support getSoundOut API."),void o(t)}a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"sound",keys:["soundOutput"]},onSuccess:function(e){if(!0===e.returnValue){var t={};t.speakerType=e.settings.soundOutput,"function"==typeof n&&n(t)}},onFailure:function(e){delete e.returnValue,"function"==typeof o&&(i(e,"SGSO","Sound.getSoundOut returns failure."),o(e))}})})},n.exports=r}),Sound=cordova.require("cordova/plugin/sound");